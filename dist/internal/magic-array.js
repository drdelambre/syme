"use strict";function MagicArray(t,r,e){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];if(!(this instanceof MagicArray))throw new Error("MagicArray: Cannot call a class as a function");Array.call(this),this._def=t[r],this._param=r,this._throttle=e,Array.prototype.splice.apply(this,[0,0].concat(i))}Object.defineProperty(exports,"__esModule",{value:!0}),MagicArray.prototype=Object.create(Array.prototype,{contructor:{value:MagicArray,enumerable:!1,writable:!0,configurable:!0}}),MagicArray.prototype.push=function(){for(var t,r=this.slice(0),e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];if(this._def.type)for(t=0;t<i.length;t++)"function"==typeof i[t].out&&(i[t]=i[t].out()),i[t]=new this._def.type(i[t]);return Array.prototype.push.apply(this,i),this._throttle.add(this._param,{old:r,new:this.slice(0)}),this._def.value=this},MagicArray.prototype.pop=function(){var t,r=this.slice(0);return t=Array.prototype.pop.apply(this),this._throttle.add(this._param,{old:r,new:this.slice(0)}),this._def.value=this,t},MagicArray.prototype.shift=function(){var t=this.slice(0);return Array.prototype.shift.apply(this),this._throttle.add(this._param,{old:t,new:this.slice(0)}),this._def.value=this},MagicArray.prototype.unshift=function(){for(var t,r,e=this.slice(0),i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];if(this._def.type)for(t=0;t<a.length;t++)a[t]instanceof this._def.type||(a[t]=new this._def.type(a[t]));return r=Array.prototype.unshift.apply(this,a),this._throttle.add(this._param,{old:e,new:this.slice(0)}),this._def.value=this,r},MagicArray.prototype.splice=function(){for(var t,r=this.slice(0),e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];if(this._def.type&&2<i.length)for(t=2;t<i.length;t++)i[t]instanceof this._def.type||(i[t]=new this._def.type(i[t]));return Array.prototype.splice.apply(this,i),this._throttle.add(this._param,{old:r,new:this.slice(0)}),this._def.value=this},MagicArray.prototype.concat=function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return Array.prototype.concat.apply(this.slice(0),r)},exports.default=MagicArray;