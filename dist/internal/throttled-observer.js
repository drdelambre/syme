"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var THROTTLE=10;function clone(e){var r={},t=void 0;for(t in e)r[t]=e[t];return r}function ThrottledObserver(){var t={},o={},n={},i=void 0;return n.add=function(e,r){Object.keys(o).length&&(o.hasOwnProperty(e)||o.hasOwnProperty("*"))&&(t.hasOwnProperty(e)&&t[e].hasOwnProperty("old")&&(r.old=t[e].old),t[e]=r,i||(i=setTimeout(n.fire,THROTTLE)))},n.onFire=function(e,r){"function"==typeof r&&(o.hasOwnProperty(e)||(o[e]=[]),o[e].push(r))},n.fire=function(){var e=void 0,r=void 0;if(Object.keys(t).length){if(o.hasOwnProperty("*"))for(r=clone(t),e=0;e<o["*"].length;e++)o["*"][e](r);for(e in t){if(o&&o.hasOwnProperty(e))for(r=0;r<o[e].length;r++)o[e][r](t[e]);delete t[e]}i=null}else i=null},n}exports.default=ThrottledObserver;